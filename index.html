<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Галерея</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/luminous-lightbox/2.3.2/luminous-basic.min.css">
    <style>
        body { 
            font-family: -apple-system, sans-serif; 
            margin: 0; 
            text-align: center;
            background-image: url("{{ url_for('static', filename='photos/background.jpg') }}");
            background-attachment: fixed;
            background-size: cover;
            background-position: center;
            background-color: #ffffff; /* Белый, если нет фото фона */
        }

        .cover-container { width: 100%; height: 90vh; overflow: hidden; }
        .cover-image { width: 100%; height: 100%; object-fit: cover; }

        h1 { 
            font-size: 3.5rem; 
            margin: 60px 0; 
            letter-spacing: 12px; 
            text-transform: uppercase;
            color: #000 !important;
            text-shadow: 0 0 15px rgba(255,255,255,1); /* Чтобы текст читался на фоне */
        }

        .gallery { display: flex; flex-direction: column; align-items: center; gap: 40px; padding-bottom: 100px; }
        .gallery-item { 
            width: 92%; max-width: 800px; height: 600px; 
            object-fit: cover; border-radius: 20px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.2);
            border: 5px solid white; background: white;
        }
    </style>
</head>
<body>
    <div class="cover-container">
        <img src="{{ url_for('static', filename='photos/cover.jpg') }}" class="cover-image">
    </div>
    <h1>Фото</h1>
    <div class="gallery">
        {% for photo in photos %}
            {% if photo not in ['cover.jpg', 'background.jpg'] %}
                <a class="zoom" href="{{ url_for('static', filename='photos/' + photo) }}">
                    <img src="{{ url_for('static', filename='photos/' + photo) }}" class="gallery-item">
                </a>
            {% endif %}
        {% endfor %}
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/luminous-lightbox/2.3.2/Luminous.min.js"></script>
    <script> new LuminousGallery(document.querySelectorAll(".zoom")); </script>
</body>
</html>